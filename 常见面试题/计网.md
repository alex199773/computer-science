------

[TOC]

------

#### HTTP 502和504

502 Bad Gateway。5开头属于服务器端错误。502表示网关错误。

504 Gateway Time-out 网关超时。

从网络角度，502已经和后端建立连接，但超时；504未建立连接，超时。都没得到响应



#### 为什么需要第四次挥手

其实是客户端和服务端的两次挥手，分别释放连接。如果没有第四次，服务端发送完第三次就关闭连接，而第三次报文丢失了，客户端没能正常关闭。

而且客户端也要在发送之后等待2MSL之后关闭，放置第四次挥手丢失，导致服务端的重传。
